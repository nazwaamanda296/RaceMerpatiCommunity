""",
    unsafe_allow_html=True,
)
=======
    /* Additional styles for centered card and buttons */
    .bold-title {
        font-weight: 700;
        font-size: 24px;
        margin-bottom: 20px;
    }
    .card {
        background: #f7f9fc;
        padding: 25px;
        border-radius: 12px;
        margin-bottom: 15px;
        box-shadow: 1px 1px 8px rgba(0,0,0,0.1);
        max-width: 600px;
        margin-left: auto;
        margin-right: auto;
    }
    .row {
        display: flex;
        justify-content: space-between;
        margin-bottom: 10px;
    }
    .label {
        font-weight: 600;
        text-align: left;
        width: 45%;
    }
    .value {
        text-align: right;
        width: 45%;
    }
    .button-row {
        display: flex;
        justify-content: center;
        margin-top: 20px;
        gap: 20px;
    }
    .btn-primary {
        background-color: #6a0dad !important; /* dark purple */
        color: white !important;
        font-weight: 700 !important;
        border-radius: 10px !important;
        padding: 10px 25px !important;
        box-shadow: 2px 2px 6px rgba(106, 13, 173, 0.5);
    }
    .btn-secondary {
        background-color: #f28b82 !important; /* soft red/pink */
        color: white !important;
        font-weight: 700 !important;
        border-radius: 10px !important;
        padding: 10px 25px !important;
        box-shadow: 2px 2px 6px rgba(242, 139, 130, 0.5);
    }
    .confirm-card {
        background: #fff0f0;
        border-radius: 10px;
        box-shadow: 1px 1px 6px rgba(255, 0, 0, 0.2);
        padding: 15px;
        max-width: 500px;
        margin: 10px auto 0 auto;
        text-align: center;
        font-weight: 600;
    }
    .confirm-button-row {
        display: flex;
        justify-content: center;
        gap: 30px;
        margin-top: 15px;
    }
    .btn-yes {
        background-color: #d32f2f !important; /* strong red */
        color: white !important;
        font-weight: 700 !important;
        border-radius: 10px !important;
        padding: 10px 25px !important;
    }
    .btn-no {
        background-color: #c8b6d9 !important; /* soft gray/pink */
        color: #3c2f54 !important;
        font-weight: 700 !important;
        border-radius: 10px !important;
        padding: 10px 25px !important;
    }
    </style>
    """,
    unsafe_allow_html=True,
)
>>>>>>> REPLACE

<<<<<<< SEARCH
    st.subheader("Detail Transaksi Persediaan")
    for _, row in df.iterrows():
        cols = st.columns([1,1,2,2,1,1,1,1,1,1])
        cols[0].write(row['tanggal'])
        cols[1].write(row['kode_barang'])
        cols[2].write(row['nama_barang'])
        cols[3].write(row['satuan'])
        cols[4].write(row['jumlah_masuk'])
        cols[5].write(row['jumlah_keluar'])
        cols[6].write(f"Rp {row['harga_per_unit']:,.2f}")
        
        edit_button = cols[7].button("Edit", key=f"edit_{row['id']}")
        delete_button = cols[8].button("Hapus", key=f"delete_{row['id']}")

        if edit_button:
            st.session_state.edit_id = row['id']
            st.experimental_rerun()

        # Initialize session state for delete confirmation if not present
        if "confirm_delete_id" not in st.session_state:
            st.session_state.confirm_delete_id = None

        if delete_button:
            st.session_state.confirm_delete_id = row['id']

        # Show confirmation buttons if this row is pending deletion confirmation
        if st.session_state.confirm_delete_id == row['id']:
            confirm_col1, confirm_col2 = st.columns([1,1])
            with confirm_col1:
                yes = st.button("Ya", key=f"confirm_yes_{row['id']}")
            with confirm_col2:
                no = st.button("Tidak", key=f"confirm_no_{row['id']}")

            if yes:
                delete_inventory(row['id'])
                st.success("Data persediaan berhasil dihapus!")
                st.session_state.confirm_delete_id = None
                st.experimental_rerun()

            if no:
                st.session_state.confirm_delete_id = None
                st.experimental_rerun()
=======
    # Show card for single selected transaction with details
    if st.session_state.edit_id is not None:
        display_row = df[df['id'] == st.session_state.edit_id]
        if not display_row.empty:
            display_row = display_row.iloc[0]
        else:
            display_row = df.iloc[0]
    else:
        display_row = df.iloc[0]

    st.markdown('<div class="card">', unsafe_allow_html=True)

    st.markdown('<div class="bold-title">Detail Transaksi Persediaan</div>', unsafe_allow_html=True)

    # Helper function to create one data row HTML
    def mk_row(label, value):
        return f'''
        <div class="row">
            <div class="label">{label}</div>
            <div class="value">{value}</div>
        </div>
        '''

    rows_html = ''
    rows_html += mk_row('Tanggal Transaksi :', display_row['tanggal'])
    rows_html += mk_row('Kode Barang :', display_row['kode_barang'])
    rows_html += mk_row('Nama Barang :', display_row['nama_barang'])
    rows_html += mk_row('Satuan :', display_row['satuan'])
    rows_html += mk_row('Jumlah Masuk :', display_row['jumlah_masuk'])
    rows_html += mk_row('Jumlah Keluar :', display_row['jumlah_keluar'])
    rows_html += mk_row('Harga per Unit :', f"Rp {display_row['harga_per_unit']:,.2f}")
    total_nilai = display_row['jumlah_masuk'] * display_row['harga_per_unit'] - display_row['jumlah_keluar'] * display_row['harga_per_unit']
    rows_html += mk_row('Total Nilai :', f"Rp {total_nilai:,.2f}")

    st.markdown(rows_html, unsafe_allow_html=True)
    st.markdown('</div>', unsafe_allow_html=True)  # close card

    col_edit, col_hapus, col_empty = st.columns([1,1,3])

    with col_edit:
        edit_clicked = st.button("Edit", key="main_edit", use_container_width=True)
    with col_hapus:
        hapus_clicked = st.button("Hapus", key="main_hapus", use_container_width=True)

    if edit_clicked:
        st.session_state.edit_id = display_row['id']
        st.experimental_rerun()

    if hapus_clicked:
        st.session_state.confirm_delete_id = display_row['id']

    if st.session_state.confirm_delete_id == display_row['id']:
        st.markdown('<div class="confirm-card">', unsafe_allow_html=True)
        st.write("Apakah Anda yakin ingin menghapus transaksi persediaan ini?")
        confirm_col1, confirm_col2 = st.columns(2)
        with confirm_col1:
            yes = st.button("Ya", key="confirm_yes")
        with confirm_col2:
            no = st.button("Tidak", key="confirm_no")
        st.markdown('</div>', unsafe_allow_html=True)

        if yes:
            delete_inventory(display_row['id'])
            st.success("Data persediaan berhasil dihapus!")
            st.session_state.confirm_delete_id = None
            if st.session_state.edit_id == display_row['id']:
                st.session_state.edit_id = None
            st.experimental_rerun()

        if no:
            st.session_state.confirm_delete_id = None
            st.experimental_rerun()
